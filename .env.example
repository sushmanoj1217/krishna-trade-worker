# ===== Krishna Trade Worker v3 â€” Night Shift Handoff (.env.example) =====
# Fill values and rename to `.env` locally only. JSON envs must be single-line JSON strings.

# --- Common ---
TZ=Asia/Kolkata
GSHEET_SPREADSHEET_ID=YOUR_SHEET_ID
GOOGLE_SA_JSON=PUT_YOUR_SERVICE_ACCOUNT_JSON_HERE_AS_ONE_LINE
TELEGRAM_BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
TELEGRAM_USER_ID=1266551700

OC_MODE=dhan
OC_SYMBOL_PRIMARY=NIFTY
OC_MIN_INTERVAL_SECS=18
OC_REFRESH_SECS=15
OC_JITTER_SECS=4

# --- Dhan ---
DHAN_CLIENT_ID=YOUR_DHAN_CLIENT_ID
DHAN_ACCESS_TOKEN=YOUR_DHAN_ACCESS_TOKEN
# Map underlying to USID. Extend later for BANKNIFTY/FINNIFTY etc.
DHAN_USID_MAP=NIFTY=13

# --- Risk / Strategy ---
MAX_EXPOSURE_PER_TRADE=3000
DAILY_LOSS_LIMIT=6000
MAX_TRADES_PER_DAY=6
QTY_PER_TRADE=50
RR_TARGET=3
ENTRY_BAND_POINTS=5

TRAILING_ENABLED=on
TRAIL_AFTER_POINTS=15
TRAIL_STEP_POINTS=5

# --- Ops hardening ---
CIRCB_SL_THRESHOLD=3
CIRCB_WINDOW_MINS=15
CIRCB_PAUSE_MINS=20
ALERT_429=on
PING_URL=

# --- Shift / Worker IDs ---
# Day worker (Render Background Worker)
SHIFT_MODE=DAY
WORKER_ID=DAY_A
AUTO_TRADE=on

# Night (Render Cron) defaults (can be overridden per Cron job)
# SHIFT_MODE=NIGHT
# WORKER_ID=NIGHT_A
# AUTO_TRADE=off
# OC_MODE=sheet

# --- Firestore (enable when ready) ---
FIREBASE_PROJECT_ID=
FIREBASE_SA_JSON=PUT_YOUR_FIREBASE_SA_JSON_HERE_AS_ONE_LINE
FIREBASE_SYNC=off
FB_COLLECTION_PREFIX=ktw_v3

# --- OpenAI ---
OPENAI_API_KEY=YOUR_OPENAI_API_KEY
OPENAI_DEFAULT_MODEL=gpt-4o-mini
OPENAI_BUDGET_USD=5

# --- Cron wrapper (Night Cron) ---
# Used by scripts/cron_wrapper.py. Override per-job in Render Cron UI if desired.
MAX_RUNTIME_MINS=300
CRON_CMD=python -u krishna_main.py
CRON_GRACE_SECS=30
CRON_KILL_SECS=15
